{"version":3,"sources":["webpack:///src/components/UserRow.vue","webpack:///./src/components/UserRow.vue?0bef","webpack:///./src/components/UserRow.vue","webpack:///src/components/UserTable.vue","webpack:///./src/components/UserTable.vue?e790","webpack:///./src/components/UserTable.vue","webpack:///src/components/AddUserModal.vue","webpack:///./src/consts.js","webpack:///./src/components/AddUserModal.vue?9884","webpack:///./src/components/AddUserModal.vue","webpack:///src/App.vue","webpack:///./src/App.vue?751e","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["UserRow","props","user","name","String","phone","subordinates","Array","level","Number","data","isShowSubordinates","components","User","Promise","resolve","then","__webpack_require__","bind","computed","levelMargin","this","components_UserRow","render","_vm","_h","$createElement","_c","_self","staticClass","style","marginLeft","on","click","$event","_v","_s","length","_l","key","id","attrs","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","UserTable","orders","methods","resetOtherOrders","_this","keys_default","forEach","orderKey","sortByKey","sortUsers","users","order","_this2","sort","a","b","localeCompare","components_UserTable","column","src_components_UserTable","AddUserModal","allUsers","form","superiorId","Math","random","toString","substring","handleClose","$emit","addUser","_form","newUser","superiorUser","find","push","localStorage","setItem","stringify_default","handleSubmit","flatUsers","reduce","result","concat","toConsumableArray_default","mounted","components_AddUserModal","target","currentTarget","apply","arguments","submit","preventDefault","type","for","directives","rawName","value","expression","placeholder","required","domProps","input","composing","$set","maxlength","change","_m","App","AddUserModal_normalizeComponent","showModal","columns","JSON","parse","getItem","e","clearUsers","removeItem","selectortype_template_index_0_src_App","close","src_App","App_normalizeComponent","Vue","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.66c36dc4ce9b9f2560cd.js","sourcesContent":["<template>\n    <div class=\"row-wrapper\">\n        <div class=\"table-row\">\n            <div class=\"user-name-wrapper\">\n                <span\n                    @click=\"isShowSubordinates = !isShowSubordinates\"\n                    class=\"expand-button\"\n                    :style=\"{ marginLeft: levelMargin }\"\n                >\n                    {{ !user.subordinates.length ? '' : !isShowSubordinates ? '+' : '-' }}\n                </span>\n                <span class=\"user-name\">{{ user.name }}</span>\n            </div>\n            <div class=\"user-phone-wrapper\">\n                <span class=\"user-phone\">{{ user.phone }}</span>\n            </div>\n        </div>\n\n        <div class=\"inner\" v-if=\"isShowSubordinates\">\n            <User v-for=\"user in user.subordinates\" :user=\"user\" :key=\"user.id\" :level=\"level + 1\" />\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    user: {\n      name: String,\n      phone: String,\n      subordinates: Array\n    },\n    level: Number\n  },\n  data: () => ({\n    isShowSubordinates: false\n  }),\n  components: {\n    User: () => import('./UserRow.vue')\n  },\n  computed: {\n    // Вычисление динамического стиля на основе уровня позволяет сохранить индентацию остальных полей.\n    // И корректную работу ellipsis для имен.\n    levelMargin: function () {\n      return `${this.level * 10}px`\n    }\n  }\n}\n</script>\n\n<style>\n.row-wrapper {\n    display: flex;\n    flex-direction: column;\n}\n\n.expand-button {\n    cursor: pointer;\n    margin-right: 4px;\n}\n\n.user-name-wrapper,\n.user-phone-wrapper {\n    display: flex;\n    width: 50%;\n}\n\n.user-phone-wrapper{\n    justify-content: center;\n}\n\n.user-name {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.table-row {\n    display: flex;\n    width: 100%;\n    margin-bottom: 4px;\n}\n\n.table-row:hover {\n    background-color: rgba(195, 195, 195, 0.5);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/UserRow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row-wrapper\"},[_c('div',{staticClass:\"table-row\"},[_c('div',{staticClass:\"user-name-wrapper\"},[_c('span',{staticClass:\"expand-button\",style:({ marginLeft: _vm.levelMargin }),on:{\"click\":function($event){_vm.isShowSubordinates = !_vm.isShowSubordinates}}},[_vm._v(\"\\n                \"+_vm._s(!_vm.user.subordinates.length ? '' : !_vm.isShowSubordinates ? '+' : '-')+\"\\n            \")]),_vm._v(\" \"),_c('span',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.user.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"user-phone-wrapper\"},[_c('span',{staticClass:\"user-phone\"},[_vm._v(_vm._s(_vm.user.phone))])])]),_vm._v(\" \"),(_vm.isShowSubordinates)?_c('div',{staticClass:\"inner\"},_vm._l((_vm.user.subordinates),function(user){return _c('User',{key:user.id,attrs:{\"user\":user,\"level\":_vm.level + 1}})}),1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5e0ddbf2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UserRow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5e0ddbf2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserRow.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserRow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserRow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5e0ddbf2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserRow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UserRow.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"table\">\n        <div class=\"header\">\n            <div v-for=\"column in columns\" :key=\"column.key\" class=\"column\" @click=\"sortByKey(column.key)\">\n                <i v-if=\"!!orders[column.key]\">{{ orders[column.key] > 0 ? '▲' : '▼' }}</i>\n                {{ column.name }}\n            </div>\n        </div>\n\n        <UserRow v-for=\"user in users\" :user=\"user\" :key=\"user.id\" :level=\"0\" />\n    </div>\n</template>\n\n<script>\nimport UserRow from './UserRow.vue'\n\nexport default {\n  components: { UserRow },\n  props: ['columns', 'users'],\n  data: () => ({\n    orders: {}\n  }),\n  methods: {\n    resetOtherOrders: function (key) {\n      Object.keys(this.orders).forEach(\n        (orderKey) => (this.orders[orderKey] = orderKey === key ? this.orders[orderKey] : null)\n      )\n    },\n\n    sortByKey: function (key) {\n      // Сбрасываем сохраненный порядок для других колонок.\n      // Итерация на основе объекта orders на случай возможного добавляения других колонок.\n      this.resetOtherOrders(key)\n\n      if (!this.orders[key]) {\n        this.orders[key] = 1\n      } else {\n        this.orders[key] *= -1\n      }\n\n      // В идеале обеспечить соотвествие колонок и полей в данных пользователей с помощью модели или интерфейса.\n      this.sortUsers(this.users, key, this.orders[key])\n    },\n\n    sortUsers: function (users, key, order) {\n      if (users.length === 1 && users[0].subordinates) {\n        this.sortUsers(users[0].subordinates, key, order)\n      }\n\n      users.sort((a, b) => {\n        if (a.subordinates) {\n          this.sortUsers(a.subordinates, key, order)\n        }\n\n        if (b.subordinates) {\n          this.sortUsers(b.subordinates, key, order)\n        }\n\n        return a[key].localeCompare(b[key]) * order\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.table {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    border: 2px solid black;\n    border-radius: 4px;\n    background: white;\n    padding: 4px 8px;\n    min-width: 300px;\n}\n\n.column {\n    display: flex;\n    justify-content: center;\n    flex: 50%;\n    padding: 4px;\n    cursor: pointer;\n    background: black;\n    color: white;\n}\n\n.header {\n    display: flex;\n    gap: 2px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/UserTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"header\"},_vm._l((_vm.columns),function(column){return _c('div',{key:column.key,staticClass:\"column\",on:{\"click\":function($event){return _vm.sortByKey(column.key)}}},[(!!_vm.orders[column.key])?_c('i',[_vm._v(_vm._s(_vm.orders[column.key] > 0 ? '▲' : '▼'))]):_vm._e(),_vm._v(\"\\n            \"+_vm._s(column.name)+\"\\n        \")])}),0),_vm._v(\" \"),_vm._l((_vm.users),function(user){return _c('UserRow',{key:user.id,attrs:{\"user\":user,\"level\":0}})})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0dd2e1da\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/UserTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0dd2e1da\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserTable.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0dd2e1da\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/UserTable.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"modal-mask\" @click.self=\"handleClose\">\n        <div class=\"modal-wrapper\">\n            <div class=\"modal-container\">\n                <form @submit.prevent=\"handleSubmit\">\n                    <div class=\"header-wrapper\">\n                        <span class=\"header\">Добавление пользователя</span>\n                        <button class=\"close-button\" type=\"button\" @click=\"handleClose\">X</button>\n                    </div>\n\n                    <div class=\"form-wrapper\">\n                        <div class=\"field-wrapper\">\n                            <label for=\"name\">Имя</label>\n                            <input\n                                placeholder=\"Введите имя пользователя\"\n                                required\n                                id=\"name\"\n                                type=\"text\"\n                                v-model=\"form.name\"\n                            />\n                        </div>\n\n                        <div class=\"field-wrapper\">\n                            <label for=\"phone\">Телефон</label>\n                            <!-- Для валидации поля необходим дополнительный regex или библиотека для работы с различными форматами номеров. -->\n                            <!-- Убрана проверка на длинну и паттерн из демо для упрощения тестирования.-->\n                            <input\n                                placeholder=\"Введите номер телефона\"\n                                id=\"phone\"\n                                required\n                                type=\"tel\"\n                                v-model=\"form.phone\"\n                                maxlength=\"13\"\n                            />\n                        </div>\n\n                        <div class=\"field-wrapper\">\n                            <label for=\"superior\">Начальник</label>\n                            <select name=\"superior\" id=\"superior\" @change=\"form.superiorId = $event.target.value\">\n                                <option value=\"#\"></option>\n                                <option v-for=\"user in allUsers\" :value=\"user.id\" :key=\"user.id\">\n                                    {{ user.name }}\n                                </option>\n                            </select>\n                        </div>\n                    </div>\n\n                    <div class=\"actions-wrapper\">\n                        <button type=\"submit\" class=\"add-button\">Сохранить</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { LOCAL_STORAGE_USERS_KEY } from '../consts.js'\n\nexport default {\n  props: {\n    users: Array\n  },\n  data: () => ({\n    allUsers: [],\n    form: {\n      name: '',\n      phone: '',\n      superiorId: null,\n      id: Math.random().toString(36).substring(2, 9)\n    }\n  }),\n  methods: {\n    handleClose: function () {\n      this.$emit('close')\n    },\n\n    addUser: function () {\n      const { name, phone, id, superiorId } = this.form\n      const newUser = { name, phone, id, subordinates: [] }\n\n      if (!superiorId) {\n        this.users.push(newUser)\n      } else {\n        let superiorUser = this.allUsers.find((user) => user.id === superiorId)\n\n        if (superiorUser) {\n          superiorUser.subordinates.push(newUser)\n        }\n      }\n\n      localStorage.setItem(LOCAL_STORAGE_USERS_KEY, JSON.stringify(this.users))\n    },\n\n    handleSubmit: function () {\n      this.addUser()\n      this.handleClose()\n    },\n\n    flatUsers: function (users) {\n      return users.reduce(\n        (result, user) =>\n          result.concat(user.subordinates ? [user, ...this.flatUsers(user.subordinates)] : user),\n        []\n      )\n    }\n  },\n  mounted: function () {\n    this.allUsers = this.flatUsers(this.users)\n  }\n}\n</script>\n\n<style scoped>\n.modal-mask {\n    position: fixed;\n    z-index: 9998;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    cursor: pointer;\n}\n\n.modal-wrapper {\n    position: absolute;\n    float: left;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n}\n\n.modal-container {\n    padding: 20px 30px;\n    border-radius: 4px;\n    background-color: #fff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n    display: flex;\n}\n\n.header-wrapper {\n    display: flex;\n    justify-content: space-between;\n    font-size: 1.5em;\n    margin-bottom: 16px;\n    gap: 60px;\n}\n\n.close-button {\n    background: none;\n    border: none;\n    cursor: pointer;\n}\n\n.form-wrapper {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n    margin-bottom: 16px;\n}\n\n.field-wrapper {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n}\n\n.field-wrapper > * {\n    width: 50%;\n}\n\n.actions-wrapper {\n    display: flex;\n    justify-content: flex-end;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/AddUserModal.vue","export const LOCAL_STORAGE_USERS_KEY = 'users'\n\n\n\n// WEBPACK FOOTER //\n// ./src/consts.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-mask\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.handleClose.apply(null, arguments)}}},[_c('div',{staticClass:\"modal-wrapper\"},[_c('div',{staticClass:\"modal-container\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"header-wrapper\"},[_c('span',{staticClass:\"header\"},[_vm._v(\"Добавление пользователя\")]),_vm._v(\" \"),_c('button',{staticClass:\"close-button\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.handleClose}},[_vm._v(\"X\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-wrapper\"},[_c('div',{staticClass:\"field-wrapper\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Имя\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],attrs:{\"placeholder\":\"Введите имя пользователя\",\"required\":\"\",\"id\":\"name\",\"type\":\"text\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"field-wrapper\"},[_c('label',{attrs:{\"for\":\"phone\"}},[_vm._v(\"Телефон\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.phone),expression:\"form.phone\"}],attrs:{\"placeholder\":\"Введите номер телефона\",\"id\":\"phone\",\"required\":\"\",\"type\":\"tel\",\"maxlength\":\"13\"},domProps:{\"value\":(_vm.form.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"phone\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"field-wrapper\"},[_c('label',{attrs:{\"for\":\"superior\"}},[_vm._v(\"Начальник\")]),_vm._v(\" \"),_c('select',{attrs:{\"name\":\"superior\",\"id\":\"superior\"},on:{\"change\":function($event){_vm.form.superiorId = $event.target.value}}},[_c('option',{attrs:{\"value\":\"#\"}}),_vm._v(\" \"),_vm._l((_vm.allUsers),function(user){return _c('option',{key:user.id,domProps:{\"value\":user.id}},[_vm._v(\"\\n                                \"+_vm._s(user.name)+\"\\n                            \")])})],2)])]),_vm._v(\" \"),_vm._m(0)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"actions-wrapper\"},[_c('button',{staticClass:\"add-button\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Сохранить\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-594350bf\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AddUserModal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-594350bf\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddUserModal.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddUserModal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddUserModal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-594350bf\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddUserModal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-594350bf\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AddUserModal.vue\n// module id = null\n// module chunks = ","<template>\n    <div class=\"container\" id=\"app\">\n        <div class=\"button-wrapper\">\n            <button class=\"button\" @click=\"clearUsers\">Отчистить</button>\n            <button class=\"button\" @click=\"showModal = !showModal\">Добавить</button>\n        </div>\n\n        <AddUserModal v-if=\"showModal\" @close=\"showModal = false\" :users=\"users\" />\n\n        <UserTable :users=\"users\" :columns=\"columns\" />\n    </div>\n</template>\n\n<script>\nimport UserTable from './components/UserTable.vue'\nimport AddUserModal from './components/AddUserModal.vue'\nimport { LOCAL_STORAGE_USERS_KEY } from './consts'\n\nexport default {\n  name: 'App',\n  components: { UserTable, AddUserModal },\n  data: () => ({\n    showModal: false,\n    users: [],\n    columns: [\n      { name: 'Имя', key: 'name' },\n      { name: 'Телефон', key: 'phone' }\n    ]\n  }),\n  mounted: function () {\n    try {\n      // LocalStorage может быть изменен со стороны и полученная переменная возможно не распарсится\n      // В связи с этим необходимо обработать ошибку и сбросить сломанные данные.\n      this.users = JSON.parse(localStorage.getItem(LOCAL_STORAGE_USERS_KEY) || '[]')\n    } catch (e) {\n      this.clearUsers()\n    }\n  },\n  methods: {\n    clearUsers: function () {\n      this.users = []\n      localStorage.removeItem(LOCAL_STORAGE_USERS_KEY)\n    }\n  }\n}\n</script>\n\n<style>\nbody {\n    display: flex;\n    flex-direction: column;\n    margin-top: 48px;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n}\n\n.container {\n    display: flex;\n    flex-direction: column;\n    max-width: 1200px;\n}\n\n.button-wrapper {\n    display: flex;\n    justify-content: flex-end;\n}\n\n.button {\n    padding: 8px;\n    margin: 8px;\n    margin-right: 0;\n    width: 120px;\n    border-radius: 8px;\n    background: black;\n    color: white;\n    cursor: pointer;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"button-wrapper\"},[_c('button',{staticClass:\"button\",on:{\"click\":_vm.clearUsers}},[_vm._v(\"Отчистить\")]),_vm._v(\" \"),_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.showModal = !_vm.showModal}}},[_vm._v(\"Добавить\")])]),_vm._v(\" \"),(_vm.showModal)?_c('AddUserModal',{attrs:{\"users\":_vm.users},on:{\"close\":function($event){_vm.showModal = false}}}):_vm._e(),_vm._v(\" \"),_c('UserTable',{attrs:{\"users\":_vm.users,\"columns\":_vm.columns}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-676acde8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-676acde8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-676acde8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}